---
title: 进入页面时判断是否为微信端
date: 2017-12-19
tags:
---
	
```html
<script type="text/javascript">
var ua = navigator.userAgent.toLowerCase();
var isWeixin = ua.indexOf('micromessenger') != -1;
var isAndroid = ua.indexOf('android') != -1;
var isIos = (ua.indexOf('iphone') != -1) || (ua.indexOf('ipad') != -1);
   if (!isWeixin) {
      document.head.innerHTML = '<title>抱歉，出错了</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0"><link rel="stylesheet" type="text/css" href="https://res.wx.qq.com/open/libs/weui/0.4.1/weui.css">';
      document.body.innerHTML = '<div class="weui_msg"><div class="weui_icon_area"><i class="weui_icon_info weui_icon_msg"></i></div><div class="weui_text_area"><h4 class="weui_msg_title">请在微信客户端打开链接</h4></div></div>';
            }
</script>
```

题外------判断是手机端还是PC端

```html
function getClientInfo(){  
     var userAgentInfo = navigator.userAgent;  
     var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");  
     var agentinfo = null;  
     for (var i = 0; i < Agents.length; i++) {  
        if (userAgentInfo.indexOf(Agents[i]) > 0) { 
            agentinfo = userAgentInfo; break; 
                }  
           }  
      if(agentinfo){
           return agentinfo;
           }else{//pc端跳转道一下链接
           document.location.href = 'http://fs.szmh91.com/1.html';
      }     
  }
```

